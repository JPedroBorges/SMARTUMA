import{hasSVG}from'../../_internal/lib/lib';const FC_TOOLTIP_CLASS='fc__tooltip',GUTTER_12=12;let UNDEF;class ToolTip{constructor(a){this.text='',this.x=0,this.y=0,this.visibleWidth=0,this.universeBounds=a.getBoundingClientRect(),this.data={active:!1,target:!1},this.element=this.createElement(a)}setUniverse(a){this.universeBounds=a.getBoundingClientRect()}createElement(a){let b=document.createElement('div');return b.setAttribute('class',FC_TOOLTIP_CLASS),b.className+=' fusioncharts-div',b.innerHTML=this.text,b.style.color='#545454',b.style.padding='3px',b.style.fontSize='10px',b.style.overflow='hidden',b.style.borderWidth='1px',b.style.borderColor='#000000',b.style.whiteSpace='nowrap',b.style.position='absolute',b.style.borderStyle='solid',b.style.backgroundColor='#ffffff',b.style['user-select']='none',b.style['-ms-user-select']='none',b.style['-moz-user-select']='none',b.style['-webkit-user-select']='none',b.style['-webkit-touch-callout']='none',b.style.top=this.x+'px',b.style.left=this.y+'px',b.style.visibility='hidden',b.style['pointer-events']='none',a.appendChild(b),b}setData(a,b){this.data[a]=b}getData(a){return this.data[a]}setStyle(a){var b=this.element;b.style.color=a.fontColor,hasSVG?(b.style.backgroundColor=a.bgColor,b.style.borderColor=a.borderColor,b.style.boxShadow=a.showToolTipShadow?'1px 1px 3px rgba(64,64,64,0.4)':'none'):(b.style.backgroundColor=a.rawBgColor,b.style.borderColor=a.rawBorderColor),b.style.fontFamily=a['font-family'],b.style.fontSize=a['font-size']+'px',b.style.borderWidth=a.borderThickness+'px',b.style.borderRadius=a.borderRadius+'px',b.style.padding=a.padding+'px'}show(a){this.text!==a&&(this.text=a,this.element.innerHTML=this.text),this.setData('active',!0),'visible'!==this.element.style.visibility&&(this.element.style.visibility='visible'),this.element.style['will-change']='left, top',this.element.style['max-width']=this.universeBounds.right-this.universeBounds.left-24+'px'}update(a=this.x,b=this.y){let c=this.universeBounds,d=c.left+GUTTER_12,e=c.right-GUTTER_12,f=c.top+GUTTER_12,g=c.bottom-GUTTER_12,h=this.universeBounds.right-this.universeBounds.left-24,i=this.element.offsetWidth,j=this.element.offsetHeight;a+i+d<e?(this.element.style.left=a+'px',this.element.style.whiteSpace='nowrap'):i<h?this.element.style.left=e-i-d+'px':(this.element.style.left='12px',this.element.style.whiteSpace='normal'),this.element.style.top=b+f+j<g?b+'px':g-j-f+'px'}hide(){this.y=0,this.x=0,this.x='',this.setData('active',!1),this.setData('target',!1),this.element.style.visibility='hidden',this.element.style['will-change']='auto',this.element.innerHTML='',this.text=UNDEF}dispose(){this.hide()}}export default ToolTip;