import AnnotationShape from'./annotation-shape';import{getValidValue,pluckNumber,pluck}from'./utils';import getEditableSructure from'./editable-properties';class ImageAnnotation extends AnnotationShape{_configureShape(a){let b=this,c=b.config,d=b.groupConfig.scaleX||1,e=b.groupConfig.scaleY||1;c.url=getValidValue(a.url),c.xScale=pluckNumber(a.xScale,100)/100,c.yScale=pluckNumber(a.yScale,100)/100,c.width=pluckNumber(a.width,0),c.height=pluckNumber(a.height,0),c.align=pluck(a.align,'left'),c.vAlign=pluck(a.vAlign,'top'),c.xScale*=d,c.yScale*=e,c.elementType='image'}getEditorConfig(){let a=this;return a.editorConfig=getEditableSructure([{name:'id',value:a.config.id},{name:'url',value:a.config.url},{name:'tooltext',value:a.config.toolText}]),a.editorConfig}updateAttr(a){let b=this,c=b.config;b._setConfig('attr',{x:pluckNumber(a.x,b.getScaledVal(c.x,!0)),y:pluckNumber(a.y,b.getScaledVal(c.y,!1))})}_getAnnotationAttrs(){let a=this,b=a.config,c=a._getConfig('attr')||{},d=b.url,e=b.x,f=b.y;return c.x='undefined'==typeof c.x?a.getScaledVal(e,!0):c.x,c.y='undefined'==typeof c.y?a.getScaledVal(f,!1):c.y,c.src=d,c.width=b.width,c.height=b.height,c.opacity=pluckNumber(b.rawAlpha,100)/100,c}}export default ImageAnnotation;