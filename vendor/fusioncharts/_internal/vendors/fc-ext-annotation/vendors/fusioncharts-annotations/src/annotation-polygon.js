import AnnotationShape from'./annotation-shape';import{pluckNumber,clampNumber,toPrecision,getFirstValue}from'./utils';const DEFAULT_POLYGON_SIDES=5,DEFAULT_ANGLE_START=0;class PolygonAnnotation extends AnnotationShape{_configureShape(a){let b=this;b.config.sides=pluckNumber(clampNumber(a.sides,3),DEFAULT_POLYGON_SIDES),b.config.startAngle=pluckNumber(parseFloat(a.startAngle),DEFAULT_ANGLE_START),b.config.xRadius=pluckNumber(parseFloat(a.radius),0),b.config.elementType='polypath'}getExtraEditableRequests(){let a=this,b=[{name:'radius',value:toPrecision(a.config.xRadius,2)},{name:'sides',value:a.config.sides},{name:'startAngle',value:a.config.startAngle},{name:'fillColor',value:a.config.rawColor},{name:'fillAlpha',value:a.config.rawAlpha},{name:'fillRatio',value:getFirstValue(a.config.rawRatio,'')},{name:'fillAngle',value:a.config.rawAngle},{name:'fillPattern',value:'radial'===a.config.rawFillPattern},{name:'showBorder',value:1===a.config.showBorder},{name:'borderColor',value:a.config.rawBorderColor},{name:'borderThickness',value:a.config.borderThickness},{name:'borderAlpha',value:a.config.rawBorderAlpha}];return b}updateAttr(a){let b,c=this,d=c.config;b=[d.sides,pluckNumber(a.x,c.getScaledVal(d.x,!0)),pluckNumber(a.y,c.getScaledVal(d.y,!1)),c.getScaledVal(d.xRadius),d.startAngle,0],c._setConfig('attr',{polypath:b})}_getAnnotationAttrs(){let a=this,b=a.config,c=a._getConfig('attr')||{},d=b.sides,e=b.x,f=b.y,g=b.color,h=b.startAngle,i=b.borderColor,j=b.borderThickness,k=b.dashArrayStr,l=b.xRadius;return c.fill=g,c.stroke=i,c['stroke-width']=j,c['stroke-dasharray']=k,c.polypath=c.polypath||[d,a.getScaledVal(e,!0),a.getScaledVal(f,!1),a.getScaledVal(l),h,0],c}}export default PolygonAnnotation;