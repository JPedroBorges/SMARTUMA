import{mergeConf,getEventHandlersFor}from'./helper';import{contextMenuSpecAttr}from'./default-attrs';import{stubFN}from'../lib/lib';import{ToolBarFactoryHelper}from'./toolBarFactoryHelper';import ComponentInterface from'../../core/component-interface';let UNDEF,doc=window.document,DIV='div',PXSTR='px',CLICK='click',DEFAULT_TIMEOUT=300,HOVER='hover';class AtomicList extends ComponentInterface{configure(a,b){let c=a||{},d=this.config;d.name=c.name,d.handler=c.handler||stubFN,d.action=c.action&&c.action.toLowerCase()||CLICK,d.eventMap={},d.style={padding:'3px 8px',margin:'2px 0px',fontFamily:contextMenuSpecAttr.baseFontFamily,fontSize:contextMenuSpecAttr.baseFontSize+PXSTR,color:'#000000'},d.hoverOverStyle=c.hoverOverStyle||{},d.hoverOutStyle=c.hoverOutStyle||{},d.chartId=b,mergeConf(c.style||{},d.style),d.subConRef=UNDEF,d.node=UNDEF}updateName(a){let b=this.config;b.name=a,b.node&&(b.node.innerHTML=a)}assignSubContainer(a){a.isListContainer&&a.isListContainer()&&(this.config.subConRef=a)}stickIntoContainer(a,b){var c,d,e,f,g,h=this.config,i=h.node=doc.createElement(DIV),j=h.style,k=ToolBarFactoryHelper.getOptions(h.chartId).chart,l=this;for(c in h.handler&&(h.eventMap[h.action]=h.handler),a.appendChild(i),i.innerHTML=h.name,d=i.style,j)d[c]=j[c];e=getEventHandlersFor(HOVER,i),f=getEventHandlersFor(CLICK,i),f(function(){l.config.handler&&(g=l.config.eventMap[CLICK],g&&g.apply(l,[k]),b.hide())}),e(function(){var a,b=i.style,c=l.config.hoverOverStyle;for(a in c)b[a]=c[a];l.config.subConRef&&l.config.subConRef.show(this)},function(){var a,b=i.style,c=l.config.hoverOutStyle;for(a in c)b[a]=c[a];l.config.subConRef&&l.config.subConRef.hide(DEFAULT_TIMEOUT,this)})}setStyle(a){mergeConf(a||{},this.config.style)}dispose(){var a=this.config,b=a.node;b&&b.remove&&b.remove(),a.node=UNDEF}isAtomicList(){return!0}}export default AtomicList;