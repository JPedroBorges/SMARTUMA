import FusionCharts from'../core/fc-backward-compatibility';import moduleDependencies from'../_internal/misc/module-dependencies';import loadScript from'../_internal/misc/script-loader';const getMetaSentence=function(){let a={};return function(b){return b=b&&b.replace(/(^\s*)|(\s*$)/g,'')||'',a[b]||(a[b]={key:b,subject:b.replace(/[^\/]*?$/gi,''),predicate:b.replace(/^.*\//gi,'')})}}();function sanitiseChartType(a=''){return''===a?a:a.replace(/^[\s\S]*\//gi,'').replace(/\?/g,'%3F').replace(/\#/g,'%23').replace(/\:/g,'%3A')}function getDependentFileName(a){let b,c=FusionCharts.options;return b=getMetaSentence(a),a=sanitiseChartType(b.predicate),b.subject+c.html5ScriptNamePrefix+a+c.html5ScriptNameSuffix}function getDynamicImport(a){switch(moduleDependencies[a]){case'charts':return import('../charts');case'powercharts':return import('../powercharts');case'widgets':return import('../widgets');case'zoomline':return import('../zoomline');case'gantt':return import('../gantt');case'treemap':return import('../treemap');case'zoomscatter':return import('../zoomscatter');case'msstackedcolumn2dsplinedy':return import('../msstackedcolumn2dsplinedy');case'overlappedbar2d':return import('../overlappedbar2d');case'overlappedcolumn2d':return import('../overlappedcolumn2d/');default:return loadScript(`${FusionCharts.getScriptBaseURI()}${getDependentFileName(a)}`);}}FusionCharts.addEventListener('resourceRequested',a=>{let b=a.sender,c=b.chartType(),d=b.options.chartTypeSourcePath||'';FusionCharts.getDep(c,'chartapi')||FusionCharts.getDep(c,'maps')||FusionCharts.addDep({name:c,type:'dependency',extension:getDynamicImport(d+c)})}),window&&'function'==typeof define&&define.amd&&(window.FusionCharts=FusionCharts);export default FusionCharts;